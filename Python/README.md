# HC-SR04 sensor using Python

## Wiring

|color (*)|function|Pin#|Pi pin ID|
|---|---|---|---|
|red|Vcc (5.0)|2|5V|
|green|Gnd|6|Ground|
|yellow|trig|24|GPIO 8|
|orange|echo|23|GPIO 11|

(*) DuPont jumper colors - arbitrary assignments.

## Pi Zero results

### 7" measurement

From sensor PCB to cardboard box. A series of 10 (or more) batches of 5 readings plus mean and standard deviation.

```text
hbarta@amity:~ $ ./ultrasonic-hcsr04.py 
[16.02022647857666, 16.584491729736328, 16.122448444366455, 16.106092929840088, 16.04067087173462] 16.17478609085083 0.23301944977226488
[16.052937507629395, 16.073381900787354, 16.032493114471436, 16.04067087173462, 16.02022647857666] 16.043941974639893 0.0203213565752396
[16.08973741531372, 16.138803958892822, 16.106092929840088, 16.08564853668213, 15.967071056365967] 16.077470779418945 0.06516600210100013
[15.934360027313232, 16.187870502471924, 16.106092929840088, 15.897560119628906, 15.99569320678711] 16.024315357208252 0.12084694457538499
[15.983426570892334, 16.122448444366455, 16.118359565734863, 16.138803958892822, 16.138803958892822] 16.10036849975586 0.06603254154870909
[15.897560119628906, 15.967071056365967, 16.257381439208984, 16.106092929840088, 16.102004051208496] 16.06602191925049 0.13936419625032354
[15.967071056365967, 16.06929302215576, 16.06929302215576, 16.052937507629395, 16.138803958892822] 16.05947971343994 0.06137405463967627
[16.122448444366455, 16.51906967163086, 16.08973741531372, 16.482269763946533, 16.22467041015625] 16.287639141082764 0.20115869993899876
[16.138803958892822, 16.142892837524414, 16.048848628997803, 16.118359565734863, 13.08441162109375] 15.50666332244873 1.35460605763286
[16.102004051208496, 16.138803958892822, 15.967071056365967, 16.208314895629883, 16.052937507629395] 16.093826293945312 0.09074178898646887
^Chbarta@amity:~ $ 
```

### 5" measurement

```text
hbarta@amity:~ $ ./ultrasonic-hcsr04.py 
[11.457037925720215, 10.737395286560059, 11.542904376983643, 11.510193347930908, 11.526548862457275] 11.35481595993042 0.3466515517550658
[11.53881549835205, 11.522459983825684, 11.661481857299805, 11.526548862457275, 11.542904376983643] 11.558442115783691 0.058214489602075
[27.98837423324585, 11.526548862457275, 11.526548862457275, 11.461126804351807, 11.457037925720215] 14.791927337646484 7.377115347871521
[11.542904376983643, 11.608326435089111, 11.612415313720703, 11.48974895477295, 11.62877082824707] 11.576433181762695 0.05850097996237221
[11.612415313720703, 11.350727081298828, 11.542904376983643, 11.526548862457275, 11.48974895477295] 11.50446891784668 0.09678644336019611
[10.169041156768799, 11.506104469299316, 11.62877082824707, 11.477482318878174, 11.440682411193848] 11.244416236877441 0.6052852541516354
[11.522459983825684, 11.510193347930908, 11.436593532562256, 11.457037925720215, 11.624681949615479] 11.510193347930908 0.07331531559735656
[11.661481857299805, 11.473393440246582, 11.338460445404053, 11.506104469299316, 11.526548862457275] 11.501197814941406 0.11577376624045282
[21.556568145751953, 11.391615867614746, 11.612415313720703, 11.473393440246582, 11.48974895477295] 13.504748344421387 4.501796323794353
[11.522459983825684, 11.48974895477295, 11.596059799194336, 11.579704284667969, 11.371171474456787] 11.511828899383545 0.08956417742029156
[26.156556606292725, 11.526548862457275, 11.632859706878662, 11.657392978668213, 11.46930456161499] 14.488532543182373 6.5230761349351845
^Chbarta@amity:~ $ 
```

### 3" measurement

```text
hbarta@amity:~ $ ./ultrasonic-hcsr04.py 
[6.174206733703613, 6.206917762756348, 6.071984767913818, 6.100606918334961, 6.1905622482299805] 6.148855686187744 0.05914050925250281
[6.145584583282471, 6.0883402824401855, 6.206917762756348, 6.174206733703613, 6.206917762756348] 6.164393424987793 0.04962557972186021
[3.8926124572753906, 6.055629253387451, 5.969762802124023, 5.986118316650391, 6.002473831176758] 5.581319332122803 0.944566364780889
[6.051540374755859, 6.071984767913818, 6.280517578125, 6.035184860229492, 6.00656270980835] 6.089158058166504 0.10961703283247685
[6.071984767913818, 6.039273738861084, 6.174206733703613, 6.141495704650879, 6.223273277282715] 6.130046844482422 0.07480524952744504
[6.174206733703613, 6.153762340545654, 6.141495704650879, 6.141495704650879, 5.986118316650391] 6.119415760040283 0.07570501091355056
[6.174206733703613, 6.153762340545654, 6.002473831176758, 6.002473831176758, 6.125140190124512] 6.091611385345459 0.08321646573691058
[6.018829345703125, 6.071984767913818, 6.125140190124512, 5.965673923492432, 6.018829345703125] 6.040091514587402 0.060606506115401464
[6.051540374755859, 6.153762340545654, 6.002473831176758, 6.153762340545654, 6.243717670440674] 6.12105131149292 0.09497295355135366
[6.157851219177246, 6.153762340545654, 6.104695796966553, 6.206917762756348, 5.998384952545166] 6.124322414398193 0.07914911556940378
^Chbarta@amity:~ $ 
```

### 2" measurement

```text
^Chbarta@amity:~ ./ultrasonic-hcsr04.py 
[3.720879554748535, 3.720879554748535, 3.802657127380371, 3.741323947906494, 3.7372350692749023] 3.7445950508117676 0.03376730550750477
[3.704524040222168, 3.806746006011963, 3.741323947906494, 3.667724132537842, 3.704524040222168] 3.724968433380127 0.05260211650469461
[3.6513686180114746, 3.7535905838012695, 3.7372350692749023, 3.7740349769592285, 3.704524040222168] 3.7241506576538086 0.04798120933737892
[3.5532355308532715, 3.720879554748535, 3.6186575889587402, 3.688168525695801, 3.7781238555908203] 3.6718130111694336 0.0878395439769829
[3.741323947906494, 3.688168525695801, 3.688168525695801, 3.8599014282226562, 3.704524040222168] 3.736417293548584 0.0723627555783341
[3.602302074432373, 3.8762569427490234, 3.806746006011963, 3.6186575889587402, 3.6145687103271484] 3.7037062644958496 0.12830872479449915
[3.724968433380127, 2.620971202850342, 3.704524040222168, 3.700435161590576, 3.724968433380127] 3.495173454284668 0.4888253976539887
[3.720879554748535, 3.7086129188537598, 3.7086129188537598, 3.688168525695801, 3.5327911376953125] 3.6718130111694336 0.07859799022498361
[3.5164356231689453, 3.724968433380127, 3.6513686180114746, 3.724968433380127, 3.843545913696289] 3.6922574043273926 0.12001398615011301
[3.688168525695801, 3.688168525695801, 3.720879554748535, 3.684079647064209, 3.6186575889587402] 3.679990768432617 0.03736349189696606
^Chbarta@amity:~ $ 
```

### 1" measurement

```text
hbarta@amity:~ $ ./ultrasonic-hcsr04.py 
[2.073061466217041, 1.954483985900879, 2.0607948303222656, 1.9217729568481445, 1.9258618354797363] 1.9871950149536133 0.07399627741936295
[1.8645286560058594, 1.970839500427246, 1.8195509910583496, 1.8195509910583496, 1.852262020111084] 1.8653464317321777 0.06223966360033488
[1.8686175346374512, 2.0444393157958984, 1.7868399620056152, 1.8195509910583496, 1.8359065055847168] 1.8710708618164062 0.10130191652251432
[False, 1.831817626953125, False, 1.970839500427246, 1.852262020111084] 1.130983829498291 1.0338056675547624
[1.9871950149536133, 2.0403504371643066, 1.8686175346374512, 1.7991065979003906, 1.8359065055847168] 1.9062352180480957 0.10293097185767668
[1.8359065055847168, 2.4287939071655273, 1.8195509910583496, False, 1.8645286560058594] 1.5897560119628906 0.9246897548638057
[1.852262020111084, 1.9585728645324707, 1.8195509910583496, 1.852262020111084, 1.991283893585205] 1.8947863578796387 0.07526202869684856
[1.8359065055847168, 1.8890619277954102, 1.852262020111084, 1.831817626953125, 1.8154621124267578] 1.8449020385742188 0.027942332745559555
[1.852262020111084, 1.9871950149536133, 1.8359065055847168, 1.852262020111084, 1.8359065055847168] 1.872706413269043 0.0645214165026475
[2.0076394081115723, 1.974928379058838, 1.852262020111084, 1.8359065055847168, 1.950395107269287] 1.9242262840270996 0.07614541608840522
^Chbarta@amity:~ $ 
```

## Pi Zero 2 results

## 7" measurement

```text
hbarta@zberry:~ $ ultrasonic-hcsr04.py 
[16.735780239105225, 16.776669025421143, 16.79302453994751, 16.780757904052734, 16.79302453994751] 16.775851249694824 0.023559890173790746
[16.764402389526367, 16.731691360473633, 16.752135753631592, 16.7971134185791, 16.719424724578857] 16.75295352935791 0.03024112079560997
[16.752135753631592, 16.752135753631592, 16.85844659805298, 16.739869117736816, 16.743957996368408] 16.769309043884277 0.05011170577096711
[16.764402389526367, 16.780757904052734, 16.760313510894775, 16.756224632263184, 16.752135753631592] 16.76276683807373 0.011047541707836292
[16.77258014678955, 16.707158088684082, 16.752135753631592, 16.780757904052734, 16.748046875] 16.752135753631592 0.028622150421142578
[16.756224632263184, 16.743957996368408, 16.72760248184204, 16.748046875, 16.743957996368408] 16.743957996368408 0.010424635965599567
[16.764402389526367, 16.743957996368408, 16.81346893310547, 16.801202297210693, 16.756224632263184] 16.775851249694824 0.029963418671953738
[16.801202297210693, 16.715335845947266, 16.805291175842285, 16.715335845947266, 16.801202297210693] 16.76767349243164 0.04780666816473922
[16.76849126815796, 16.756224632263184, 16.715335845947266, 16.752135753631592, 16.731691360473633] 16.744775772094727 0.021128071137371005
[16.805291175842285, 16.752135753631592, 16.748046875, 16.85844659805298, 16.81755781173706] 16.796295642852783 0.046566565492489075
^Chbarta@zberry:~ $ 
```

### 5" measurement

```text
hbarta@zberry:~ $ ultrasonic-hcsr04.py 
[11.60423755645752, 11.616504192352295, 11.624681949615479, 11.906814575195312, 11.616504192352295] 11.67374849319458 0.1304922550976491
[12.049925327301025, 11.64921522140503, 11.571526527404785, 11.624681949615479, 11.996769905090332] 11.77842378616333 0.22612275188735143
[11.620593070983887, 12.029480934143066, 11.608326435089111, 12.0131254196167, 12.0621919631958] 11.866743564605713 0.2310198334395194
[11.62877082824707, 12.045836448669434, 11.579704284667969, 11.616504192352295, 11.555171012878418] 11.685197353363037 0.2037148110301821
[11.546993255615234, 11.591970920562744, 11.64921522140503, 11.579704284667969, 12.03765869140625] 11.681108474731445 0.20270695717142406
[11.551082134246826, 11.60423755645752, 12.0131254196167, 12.033569812774658, 12.009036540985107] 11.842210292816162 0.24240878258022577
[11.600148677825928, 11.996769905090332, 11.620593070983887, 12.0131254196167, 11.563348770141602] 11.75879716873169 0.22571202629713716
[11.526548862457275, 11.62877082824707, 11.62877082824707, 11.579704284667969, 11.620593070983887] 11.596877574920654 0.04426577025160269
[11.612415313720703, 11.58379316329956, 11.677837371826172, 11.665570735931396, 11.984503269195557] 11.704823970794678 0.16099489059459487
[12.000858783721924, 11.596059799194336, 11.579704284667969, 11.996769905090332, 11.624681949615479] 11.759614944458008 0.2189555374275765
^Chbarta@zberry:~ $ 
```

### 3" measurement

```text
hbarta@zberry:~ $ ultrasonic-hcsr04.py 
[6.23553991317749, 6.260073184967041, 6.280517578125, 6.231451034545898, 6.247806549072266] 6.251077651977539 0.019905743005327527
[6.239628791809082, 7.261848449707031, 8.071446418762207, 6.206917762756348, 6.268250942230225] 6.8096184730529785 0.833357201730297
[6.272339820861816, 6.247806549072266, 6.264162063598633, 6.202828884124756, 6.2110066413879395] 6.239628791809082 0.0312739078967987
[6.268250942230225, 6.215095520019531, 6.264162063598633, 6.206917762756348, 6.255984306335449] 6.242082118988037 0.02885485466089931
[6.223273277282715, 6.2110066413879395, 6.2110066413879395, 6.206917762756348, 6.255984306335449] 6.221637725830078 0.020156139552813146
[6.23553991317749, 6.206917762756348, 6.206917762756348, 6.206917762756348, 6.23553991317749] 6.218366622924805 0.01567699742996578
[6.1701178550720215, 6.255984306335449, 6.206917762756348, 6.239628791809082, 6.264162063598633] 6.227362155914307 0.03879050865546778
[6.231451034545898, 6.23553991317749, 6.23553991317749, 6.255984306335449, 6.260073184967041] 6.243717670440674 0.013249481079303599
[6.182384490966797, 6.268250942230225, 6.276428699493408, 6.239628791809082, 6.2110066413879395] 6.23553991317749 0.039325575430114695
[6.255984306335449, 6.202828884124756, 6.268250942230225, 6.288695335388184, 6.300961971282959] 6.2633442878723145 0.03807270804420261
^Chbarta@zberry:~ $ 
```

### 2" measurement

```text
hbarta@zberry:~ $ ultrasonic-hcsr04.py 
[3.86807918548584, 3.884434700012207, 3.8803458213806152, 3.900790214538574, 3.9130568504333496] 3.889341354370117 0.017681740928842546
[3.86807918548584, 3.900790214538574, 3.904879093170166, 3.847634792327881, 3.8517236709594727] 3.8746213912963867 0.02690593991085148
[3.8190126419067383, 3.82310152053833, 3.8517236709594727, 3.8394570350646973, 3.8394570350646973] 3.834550380706787 0.013375071385364702
[3.921234607696533, 3.8517236709594727, 3.900790214538574, 3.863990306854248, 3.86807918548584] 3.8811635971069336 0.028825869365124684
[3.8721680641174316, 3.8599014282226562, 3.900790214538574, 3.8967013359069824, 3.908967971801758] 3.8877058029174805 0.020728638679901816
[3.843545913696289, 3.921234607696533, 3.86807918548584, 3.863990306854248, 3.8599014282226562] 3.8713502883911133 0.029400146285061404
[3.8967013359069824, 3.863990306854248, 3.86807918548584, 3.8558125495910645, 3.9130568504333496] 3.879528045654297 0.024259148417223094
[3.8394570350646973, 3.9130568504333496, 3.863990306854248, 3.900790214538574, 3.908967971801758] 3.8852524757385254 0.03211787487088599
[3.888523578643799, 3.86807918548584, 3.884434700012207, 3.8558125495910645, 3.888523578643799] 3.877074718475342 0.01457156105197304
[3.884434700012207, 3.900790214538574, 3.86807918548584, 3.8599014282226562, 3.8558125495910645] 3.8738036155700684 0.018648155727815835
^Chbarta@zberry:~ $ 
```

### 1" measurement

```text
hbarta@zberry:~ $ ultrasonic-hcsr04.py 
[1.974928379058838, 1.9953727722167969, 2.416527271270752, 2.3838162422180176, 2.416527271270752] 2.2374343872070312 0.23080262102419885
[2.4042606353759766, 2.3879051208496094, 2.4042606353759766, 2.338838577270508, 2.4042606353759766] 2.3879051208496094 0.02832858214359879
[2.375638484954834, 2.4001717567443848, 2.3879051208496094, 2.3879051208496094, 2.4001717567443848] 2.3903584480285645 0.010263003913206621
[2.0035505294799805, 2.4083495140075684, 2.351105213165283, 1.9790172576904297, 2.3470163345336914] 2.2178077697753906 0.20838443535748133
[1.9585728645324707, 2.4001717567443848, 2.3838162422180176, 2.41243839263916, 2.4001717567443848] 2.3110342025756836 0.19729422001068367
[2.3838162422180176, 3.103458881378174, 2.355194091796875, 2.4001717567443848, 2.4042606353759766] 2.5293803215026855 0.3214987269683891
[1.954483985900879, 2.391993999481201, 2.4001717567443848, 2.359282970428467, 2.4001717567443848] 2.3012208938598633 0.19456360869375142
[1.950395107269287, 2.355194091796875, 2.396082878112793, 2.396082878112793, 1.93403959274292] 2.2063589096069336 0.24177342614169084
[1.9626617431640625, 2.4001717567443848, 2.4083495140075684, 2.4042606353759766, 2.4042606353759766] 2.3159408569335938 0.19751019159726893
[1.9626617431640625, 2.391993999481201, 2.4042606353759766, 2.4083495140075684, 2.4001717567443848] 2.3134875297546387 0.1962107962722615
^Chbarta@zberry:~ $ 
```
